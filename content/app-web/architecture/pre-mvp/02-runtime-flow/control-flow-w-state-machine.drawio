<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0" version="28.1.1">
  <diagram name="Page-1" id="DHC74DN118Bt3bBbkkAF">
    <mxGraphModel dx="1034" dy="666" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-46" value="runQuizLoop(ctx)" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="301" y="20" width="184" height="54" as="geometry" />
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-47" value="emit quiz_intro_shown" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="281" y="124" width="223" height="54" as="geometry" />
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-48" value="wait start click" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="309" y="228" width="168" height="54" as="geometry" />
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-49" value="emit quiz_start_clicked" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="278" y="332" width="229" height="54" as="geometry" />
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-50" value="for q in 1..6" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="320" y="436" width="146" height="54" as="geometry" />
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-51" value="render question q" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="210" y="540" width="187" height="54" as="geometry" />
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-52" value="wait answer&#xa;store q, oid, tags (local)" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="173" y="644" width="260" height="78" as="geometry" />
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-53" value="q == 2 ? infer intent" style="rhombus;strokeWidth=2;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="205" y="772" width="196" height="196" as="geometry" />
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-54" value="features = collectEarlyFeatures()" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="173" y="1040" width="260" height="78" as="geometry" />
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-55" value="{profile, conf} = inferIntent(features)" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="173" y="1168" width="260" height="78" as="geometry" />
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-56" value="midcheck sample ok ?" style="rhombus;strokeWidth=2;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="198" y="1296" width="210" height="210" as="geometry" />
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-57" value="score = askMidProgress()" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="88" y="1578" width="234" height="54" as="geometry" />
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-58" value="continue" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="373" y="2091" width="122" height="54" as="geometry" />
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-59" value="(score &amp;lt;= 2) and (conf &amp;gt;= threshold) and (cooldown == false) ?" style="rhombus;strokeWidth=2;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="54" y="1705" width="302" height="302" as="geometry" />
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-60" value="branch = mapBranch(profile)" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="53" y="2079" width="260" height="78" as="geometry" />
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-61" value="applyAdaptation(branch)&#xa;cooldown = true" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="20" y="2218" width="325" height="78" as="geometry" />
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-62" value="q &amp;lt; 6 ?" style="rhombus;strokeWidth=2;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="474" y="2207" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-63" value="outId = pickOutro(profile, flag_baby_wording)" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="394" y="2379" width="260" height="78" as="geometry" />
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-64" value="show Outro(outId)" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="429" y="2507" width="190" height="54" as="geometry" />
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-65" value="emit quiz_complete" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="423" y="2611" width="203" height="54" as="geometry" />
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-66" value="on CTA click -&gt; emit quiz_cta_clicked&#xa;open tip page" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="394" y="2715" width="260" height="102" as="geometry" />
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-67" value="return" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="472" y="2867" width="105" height="54" as="geometry" />
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-68" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" edge="1" parent="1" source="RV7-lj7hqsFqC6RjeD5g-46" target="RV7-lj7hqsFqC6RjeD5g-47">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-69" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" edge="1" parent="1" source="RV7-lj7hqsFqC6RjeD5g-47" target="RV7-lj7hqsFqC6RjeD5g-48">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-70" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" edge="1" parent="1" source="RV7-lj7hqsFqC6RjeD5g-48" target="RV7-lj7hqsFqC6RjeD5g-49">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-71" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" edge="1" parent="1" source="RV7-lj7hqsFqC6RjeD5g-49" target="RV7-lj7hqsFqC6RjeD5g-50">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-72" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.18;exitY=1;entryX=0.5;entryY=0;rounded=0;" edge="1" parent="1" source="RV7-lj7hqsFqC6RjeD5g-50" target="RV7-lj7hqsFqC6RjeD5g-51">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="303" y="515" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-73" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" edge="1" parent="1" source="RV7-lj7hqsFqC6RjeD5g-51" target="RV7-lj7hqsFqC6RjeD5g-52">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-74" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" edge="1" parent="1" source="RV7-lj7hqsFqC6RjeD5g-52" target="RV7-lj7hqsFqC6RjeD5g-53">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-75" value="yes" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" edge="1" parent="1" source="RV7-lj7hqsFqC6RjeD5g-53" target="RV7-lj7hqsFqC6RjeD5g-54">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-76" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" edge="1" parent="1" source="RV7-lj7hqsFqC6RjeD5g-54" target="RV7-lj7hqsFqC6RjeD5g-55">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-77" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" edge="1" parent="1" source="RV7-lj7hqsFqC6RjeD5g-55" target="RV7-lj7hqsFqC6RjeD5g-56">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-78" value="yes" style="curved=1;startArrow=none;endArrow=block;exitX=0.15;exitY=1;entryX=0.5;entryY=0;rounded=0;" edge="1" parent="1" source="RV7-lj7hqsFqC6RjeD5g-56" target="RV7-lj7hqsFqC6RjeD5g-57">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="205" y="1542" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-79" value="no" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.93;entryX=0.6;entryY=0;rounded=0;" edge="1" parent="1" source="RV7-lj7hqsFqC6RjeD5g-56" target="RV7-lj7hqsFqC6RjeD5g-58">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="467" y="1542" />
              <mxPoint x="467" y="2043" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-80" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" edge="1" parent="1" source="RV7-lj7hqsFqC6RjeD5g-57" target="RV7-lj7hqsFqC6RjeD5g-59">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-81" value="yes" style="curved=1;startArrow=none;endArrow=block;exitX=0.44;exitY=1;entryX=0.5;entryY=0;rounded=0;" edge="1" parent="1" source="RV7-lj7hqsFqC6RjeD5g-59" target="RV7-lj7hqsFqC6RjeD5g-60">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="183" y="2043" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-82" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" edge="1" parent="1" source="RV7-lj7hqsFqC6RjeD5g-60" target="RV7-lj7hqsFqC6RjeD5g-61">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-83" value="no" style="curved=1;startArrow=none;endArrow=block;exitX=0.85;exitY=1;entryX=0.22;entryY=0;rounded=0;" edge="1" parent="1" source="RV7-lj7hqsFqC6RjeD5g-59" target="RV7-lj7hqsFqC6RjeD5g-58">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="336" y="2043" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-84" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.51;exitY=1;entryX=0;entryY=0.08;rounded=0;" edge="1" parent="1" source="RV7-lj7hqsFqC6RjeD5g-58" target="RV7-lj7hqsFqC6RjeD5g-62">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="435" y="2182" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-85" value="yes" style="curved=1;startArrow=none;endArrow=block;exitX=0.82;exitY=0;entryX=1;entryY=0.89;rounded=0;" edge="1" parent="1" source="RV7-lj7hqsFqC6RjeD5g-62" target="RV7-lj7hqsFqC6RjeD5g-50">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="572" y="2182" />
              <mxPoint x="572" y="515" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-86" value="no" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" edge="1" parent="1" source="RV7-lj7hqsFqC6RjeD5g-62" target="RV7-lj7hqsFqC6RjeD5g-63">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-87" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0.01;rounded=0;" edge="1" parent="1" source="RV7-lj7hqsFqC6RjeD5g-63" target="RV7-lj7hqsFqC6RjeD5g-64">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-88" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1.01;entryX=0.5;entryY=0.01;rounded=0;" edge="1" parent="1" source="RV7-lj7hqsFqC6RjeD5g-64" target="RV7-lj7hqsFqC6RjeD5g-65">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-89" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1.01;entryX=0.5;entryY=0;rounded=0;" edge="1" parent="1" source="RV7-lj7hqsFqC6RjeD5g-65" target="RV7-lj7hqsFqC6RjeD5g-66">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RV7-lj7hqsFqC6RjeD5g-90" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0.01;rounded=0;" edge="1" parent="1" source="RV7-lj7hqsFqC6RjeD5g-66" target="RV7-lj7hqsFqC6RjeD5g-67">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
