<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0" version="28.1.1">
  <diagram name="Page-1" id="L7H9DltlJWxqrmrGK6Mb">
    <mxGraphModel dx="695" dy="778" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-1" value="Fallback Queues" style="whiteSpace=wrap;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1444" y="1258" width="310" height="477" as="geometry" />
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-2" value="Email Provider" style="whiteSpace=wrap;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="998" y="1341" width="302" height="124" as="geometry" />
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-3" value="PostHog Cloud" style="whiteSpace=wrap;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="998" y="1485" width="302" height="124" as="geometry" />
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-4" value="Supabase Project" style="whiteSpace=wrap;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="575" y="610" width="1444" height="628" as="geometry" />
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-5" value="Vercel Edge / CDN" style="whiteSpace=wrap;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="289" y="932" width="236" height="641" as="geometry" />
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-6" value="User Device" style="whiteSpace=wrap;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="20" y="1027" width="219" height="124" as="geometry" />
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-7" value="Mobile Browser" style="whiteSpace=wrap;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="45" y="1062" width="169" height="54" as="geometry" />
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-8" value="Next.js static/ISR" style="whiteSpace=wrap;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="314" y="1062" width="186" height="54" as="geometry" />
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-9" value="Edge Functions&#xa;/quiz, /lead, /infer, /feedback" style="whiteSpace=wrap;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="600" y="1093" width="260" height="78" as="geometry" />
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-10" value="Postgres DB" style="whiteSpace=wrap;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1077" y="770" width="143" height="54" as="geometry" />
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-11" value="Storage exports/" style="whiteSpace=wrap;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1059" y="1109" width="181" height="54" as="geometry" />
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-12" value="Auth (anon vs service role)" style="whiteSpace=wrap;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1023" y="999" width="252" height="54" as="geometry" />
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-13" value="cron_export_retry" style="whiteSpace=wrap;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1804" y="645" width="190" height="54" as="geometry" />
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-14" value="cron_leads_retry" style="whiteSpace=wrap;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1809" y="749" width="181" height="54" as="geometry" />
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-15" value="cron_ph_flush" style="whiteSpace=wrap;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1819" y="853" width="161" height="54" as="geometry" />
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-16" value="cron_ml_retry" style="whiteSpace=wrap;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1818" y="957" width="162" height="54" as="geometry" />
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-17" value="/capture" style="whiteSpace=wrap;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1087" y="1520" width="124" height="54" as="geometry" />
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-18" value="addContact API" style="whiteSpace=wrap;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1064" y="1376" width="169" height="54" as="geometry" />
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-19" value="q_ph (events when PH down)" style="whiteSpace=wrap;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1469" y="1518" width="260" height="78" as="geometry" />
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-20" value="LEADS.synced=false" style="whiteSpace=wrap;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1498" y="1397" width="201" height="54" as="geometry" />
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-21" value="export retry queue" style="whiteSpace=wrap;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1501" y="1293" width="196" height="54" as="geometry" />
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-22" value="q_ml (infer retry)" style="whiteSpace=wrap;strokeWidth=2;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="1506" y="1646" width="186" height="54" as="geometry" />
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-23" value="" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.5;entryX=0;entryY=0.5;rounded=0;shadow=1;" edge="1" parent="1" source="ReM6XtZJ9ZrwCtP6JWZF-7" target="ReM6XtZJ9ZrwCtP6JWZF-8">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-24" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.9;exitY=1;entryX=0;entryY=0.49;rounded=0;shadow=1;" edge="1" parent="1" source="ReM6XtZJ9ZrwCtP6JWZF-8" target="ReM6XtZJ9ZrwCtP6JWZF-9">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="525" y="1132" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-25" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.6;exitY=-0.01;entryX=0;entryY=0.68;rounded=0;shadow=1;" edge="1" parent="1" source="ReM6XtZJ9ZrwCtP6JWZF-9" target="ReM6XtZJ9ZrwCtP6JWZF-10">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="929" y="818" />
              <mxPoint x="998" y="818" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-26" value="service role" style="curved=1;dashed=1;dashPattern=2 3;startArrow=none;endArrow=none;exitX=0.97;exitY=-0.01;entryX=0.12;entryY=1;rounded=0;shadow=1;" edge="1" parent="1" source="ReM6XtZJ9ZrwCtP6JWZF-9" target="ReM6XtZJ9ZrwCtP6JWZF-12">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="929" y="1069" />
              <mxPoint x="998" y="1069" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-27" value="anon jwt" style="curved=1;dashed=1;dashPattern=2 3;startArrow=none;endArrow=none;exitX=0.66;exitY=0;entryX=0.12;entryY=0;rounded=0;shadow=1;" edge="1" parent="1" source="ReM6XtZJ9ZrwCtP6JWZF-8" target="ReM6XtZJ9ZrwCtP6JWZF-12">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="525" y="983" />
              <mxPoint x="998" y="983" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-28" value="whitelist events" style="curved=1;dashed=1;dashPattern=2 3;startArrow=none;endArrow=block;exitX=0.54;exitY=1;entryX=0;entryY=0.5;rounded=0;shadow=1;" edge="1" parent="1" source="ReM6XtZJ9ZrwCtP6JWZF-8" target="ReM6XtZJ9ZrwCtP6JWZF-17">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="525" y="1547" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-29" value="5xx/timeout" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.58;entryX=0;entryY=0.5;rounded=0;shadow=1;" edge="1" parent="1" source="ReM6XtZJ9ZrwCtP6JWZF-17" target="ReM6XtZJ9ZrwCtP6JWZF-19">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1300" y="1557" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-30" value="" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.5;entryX=0.02;entryY=1;rounded=0;shadow=1;" edge="1" parent="1" source="ReM6XtZJ9ZrwCtP6JWZF-19" target="ReM6XtZJ9ZrwCtP6JWZF-15">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1754" y="1557" />
              <mxPoint x="1779" y="922" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-31" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.02;exitY=0;entryX=1;entryY=0.42;rounded=0;shadow=1;" edge="1" parent="1" source="ReM6XtZJ9ZrwCtP6JWZF-15" target="ReM6XtZJ9ZrwCtP6JWZF-17">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1779" y="838" />
              <mxPoint x="1372" y="838" />
              <mxPoint x="1300" y="1536" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-32" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.84;exitY=0.99;entryX=0.37;entryY=0;rounded=0;shadow=1;" edge="1" parent="1" source="ReM6XtZJ9ZrwCtP6JWZF-9" target="ReM6XtZJ9ZrwCtP6JWZF-18">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="929" y="1218" />
              <mxPoint x="998" y="1218" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-33" value="fail/timeout" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.72;entryX=0;entryY=0.5;rounded=0;shadow=1;" edge="1" parent="1" source="ReM6XtZJ9ZrwCtP6JWZF-18" target="ReM6XtZJ9ZrwCtP6JWZF-20">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1300" y="1424" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-34" value="" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.5;entryX=0.07;entryY=1;rounded=0;shadow=1;" edge="1" parent="1" source="ReM6XtZJ9ZrwCtP6JWZF-20" target="ReM6XtZJ9ZrwCtP6JWZF-14">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1754" y="1424" />
              <mxPoint x="1779" y="818" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-35" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.07;exitY=0;entryX=1;entryY=0.39;rounded=0;shadow=1;" edge="1" parent="1" source="ReM6XtZJ9ZrwCtP6JWZF-14" target="ReM6XtZJ9ZrwCtP6JWZF-18">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1779" y="734" />
              <mxPoint x="1372" y="734" />
              <mxPoint x="1300" y="1392" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-36" value="" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.53;entryX=0;entryY=0.5;rounded=0;shadow=1;" edge="1" parent="1" source="ReM6XtZJ9ZrwCtP6JWZF-9" target="ReM6XtZJ9ZrwCtP6JWZF-11">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="929" y="1136" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-37" value="fail/space" style="curved=1;startArrow=none;endArrow=block;exitX=0.99;exitY=0.5;entryX=0.38;entryY=0;rounded=0;shadow=1;" edge="1" parent="1" source="ReM6XtZJ9ZrwCtP6JWZF-11" target="ReM6XtZJ9ZrwCtP6JWZF-21">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1444" y="1136" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-38" value="" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.5;entryX=0.09;entryY=1;rounded=0;shadow=1;" edge="1" parent="1" source="ReM6XtZJ9ZrwCtP6JWZF-21" target="ReM6XtZJ9ZrwCtP6JWZF-13">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1754" y="1320" />
              <mxPoint x="1779" y="714" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-39" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.19;entryX=0.54;entryY=0;rounded=0;shadow=1;" edge="1" parent="1" source="ReM6XtZJ9ZrwCtP6JWZF-13" target="ReM6XtZJ9ZrwCtP6JWZF-11">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1779" y="651" />
              <mxPoint x="1300" y="651" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-40" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.95;exitY=0.99;entryX=0.45;entryY=0;rounded=0;shadow=1;" edge="1" parent="1" source="ReM6XtZJ9ZrwCtP6JWZF-9" target="ReM6XtZJ9ZrwCtP6JWZF-22">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="929" y="1198" />
              <mxPoint x="1444" y="1198" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-41" value="" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.5;entryX=0.35;entryY=1;rounded=0;shadow=1;" edge="1" parent="1" source="ReM6XtZJ9ZrwCtP6JWZF-22" target="ReM6XtZJ9ZrwCtP6JWZF-16">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1754" y="1673" />
              <mxPoint x="1779" y="1115" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-42" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.02;exitY=0;entryX=0.66;entryY=-0.01;rounded=0;shadow=1;" edge="1" parent="1" source="ReM6XtZJ9ZrwCtP6JWZF-16" target="ReM6XtZJ9ZrwCtP6JWZF-9">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1779" y="942" />
              <mxPoint x="929" y="942" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ReM6XtZJ9ZrwCtP6JWZF-43" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.58;exitY=-0.01;entryX=0;entryY=0.32;rounded=0;shadow=1;" edge="1" parent="1" source="ReM6XtZJ9ZrwCtP6JWZF-9" target="ReM6XtZJ9ZrwCtP6JWZF-10">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="929" y="776" />
              <mxPoint x="998" y="776" />
            </Array>
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
