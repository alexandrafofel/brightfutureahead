<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0" version="28.1.1">
  <diagram name="Page-1" id="JSEcvvFsxAhY5jM5VWjS">
    <mxGraphModel dx="1034" dy="666" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-1" value="Model layer" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="1427" y="20" width="382" height="264" as="geometry" />
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-2" value="Postgres" style="whiteSpace=wrap;strokeWidth=2;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="45" y="510" width="640" height="201" as="geometry" />
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-3" value="FEEDBACK&#xa;id, session_id, label_type, label_value, note, created_at" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="NmZcNdn_ybwdhWXRf-tb-2">
          <mxGeometry x="43" y="58" width="260" height="102" as="geometry" />
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-4" value="INFER_LOGS&#xa;id, session_id, request_json, response_json, latency_ms, created_at" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="NmZcNdn_ybwdhWXRf-tb-2">
          <mxGeometry x="353" y="46" width="260" height="126" as="geometry" />
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-5" value="Supabase Edge Functions" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="735" y="304" width="1074" height="270" as="geometry" />
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-6" value="Frontend (Next.js)" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="20" y="746" width="2821" height="152" as="geometry" />
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-7" value="callInfer(payload)" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="271" y="809" width="187" height="54" as="geometry" />
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-8" value="sendFeedback(label, payload)" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="2556" y="781" width="260" height="78" as="geometry" />
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-9" value="CORS + rate limits" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="760" y="454" width="190" height="54" as="geometry" />
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-10" value="POST /infer" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="1016" y="351" width="144" height="54" as="geometry" />
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-11" value="POST /feedback" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="1000" y="464" width="175" height="54" as="geometry" />
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-12" value="read REMOTE_CONFIG&#xa;ml_infer_enabled, model_endpoint_url" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="1452" y="360" width="332" height="102" as="geometry" />
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-13" value="Rule-based stub&#xa;(pre-MVP)" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="1488" y="55" width="259" height="54" as="geometry" />
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-14" value="Future Model API&#xa;HTTP endpoint" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="1488" y="171" width="260" height="78" as="geometry" />
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-15" value="200 {suggestions, debug:&#39;stub&#39;}" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="1859" y="43" width="260" height="78" as="geometry" />
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-16" value="200 {predictions} or 502 fallback" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="1859" y="171" width="260" height="78" as="geometry" />
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-17" value="insert INFER_LOGS" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="2308" y="202" width="193" height="54" as="geometry" />
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-18" value="validate payload&#xa;strip PII" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="1494" y="609" width="248" height="54" as="geometry" />
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-19" value="insert FEEDBACK" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="1899" y="609" width="179" height="54" as="geometry" />
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-20" value="202 {accepted:true}" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="2302" y="98" width="204" height="54" as="geometry" />
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-21" value="Storage exports/" style="whiteSpace=wrap;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="2314" y="657" width="181" height="54" as="geometry" />
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-22" value="" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.31;entryX=0.45;entryY=1;rounded=0;" edge="1" parent="1" source="NmZcNdn_ybwdhWXRf-tb-7" target="NmZcNdn_ybwdhWXRf-tb-9">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="710" y="799" />
              <mxPoint x="735" y="799" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-23" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.66;exitY=0;entryX=0;entryY=0.5;rounded=0;" edge="1" parent="1" source="NmZcNdn_ybwdhWXRf-tb-9" target="NmZcNdn_ybwdhWXRf-tb-10">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="975" y="378" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-24" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.68;entryX=0.73;entryY=1;rounded=0;" edge="1" parent="1" source="NmZcNdn_ybwdhWXRf-tb-8" target="NmZcNdn_ybwdhWXRf-tb-9">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2531" y="837" />
              <mxPoint x="1834" y="837" />
              <mxPoint x="1809" y="554" />
              <mxPoint x="975" y="554" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-25" value="" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.65;entryX=0;entryY=0.5;rounded=0;" edge="1" parent="1" source="NmZcNdn_ybwdhWXRf-tb-9" target="NmZcNdn_ybwdhWXRf-tb-11">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="975" y="491" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-26" value="" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.37;entryX=0;entryY=0.04;rounded=0;" edge="1" parent="1" source="NmZcNdn_ybwdhWXRf-tb-10" target="NmZcNdn_ybwdhWXRf-tb-12">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1301" y="357" />
              <mxPoint x="1427" y="357" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-27" value="" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.42;entryX=0.08;entryY=1;rounded=0;" edge="1" parent="1" source="NmZcNdn_ybwdhWXRf-tb-11" target="NmZcNdn_ybwdhWXRf-tb-12">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1301" y="480" />
              <mxPoint x="1427" y="480" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-28" value="if ml_infer_enabled == false" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.62;entryX=0.44;entryY=1;rounded=0;" edge="1" parent="1" source="NmZcNdn_ybwdhWXRf-tb-10" target="NmZcNdn_ybwdhWXRf-tb-13">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1301" y="398" />
              <mxPoint x="1427" y="398" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-29" value="if ml_infer_enabled == true" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.94;entryX=0.38;entryY=1;rounded=0;" edge="1" parent="1" source="NmZcNdn_ybwdhWXRf-tb-10" target="NmZcNdn_ybwdhWXRf-tb-14">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1301" y="449" />
              <mxPoint x="1427" y="449" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-30" value="" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.5;entryX=0;entryY=0.5;rounded=0;" edge="1" parent="1" source="NmZcNdn_ybwdhWXRf-tb-13" target="NmZcNdn_ybwdhWXRf-tb-15">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-31" value="" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.5;entryX=0;entryY=0.5;rounded=0;" edge="1" parent="1" source="NmZcNdn_ybwdhWXRf-tb-14" target="NmZcNdn_ybwdhWXRf-tb-16">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-32" value="" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.5;entryX=0.31;entryY=0;rounded=0;" edge="1" parent="1" source="NmZcNdn_ybwdhWXRf-tb-15" target="NmZcNdn_ybwdhWXRf-tb-17">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2211" y="82" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-33" value="" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.5;entryX=0;entryY=0.32;rounded=0;" edge="1" parent="1" source="NmZcNdn_ybwdhWXRf-tb-16" target="NmZcNdn_ybwdhWXRf-tb-17">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2211" y="210" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-34" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.45;exitY=1;entryX=1;entryY=0.6;rounded=0;" edge="1" parent="1" source="NmZcNdn_ybwdhWXRf-tb-17" target="NmZcNdn_ybwdhWXRf-tb-7">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2211" y="857" />
              <mxPoint x="710" y="857" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-35" value="" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.66;entryX=0.33;entryY=0.01;rounded=0;" edge="1" parent="1" source="NmZcNdn_ybwdhWXRf-tb-11" target="NmZcNdn_ybwdhWXRf-tb-18">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1301" y="512" />
              <mxPoint x="1427" y="512" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-36" value="" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.51;entryX=0;entryY=0.51;rounded=0;" edge="1" parent="1" source="NmZcNdn_ybwdhWXRf-tb-18" target="NmZcNdn_ybwdhWXRf-tb-19">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-37" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.67;exitY=0.01;entryX=0.42;entryY=1;rounded=0;" edge="1" parent="1" source="NmZcNdn_ybwdhWXRf-tb-19" target="NmZcNdn_ybwdhWXRf-tb-20">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2211" y="443" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-38" value="" style="curved=1;startArrow=none;endArrow=block;exitX=0.53;exitY=1;entryX=0;entryY=0.21;rounded=0;" edge="1" parent="1" source="NmZcNdn_ybwdhWXRf-tb-20" target="NmZcNdn_ybwdhWXRf-tb-8">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2531" y="793" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="NmZcNdn_ybwdhWXRf-tb-39" value="nightly ops export" style="curved=1;dashed=1;dashPattern=2 3;startArrow=none;endArrow=block;exitX=1;exitY=0.86;entryX=0;entryY=0.5;rounded=0;" edge="1" parent="1" source="NmZcNdn_ybwdhWXRf-tb-19" target="NmZcNdn_ybwdhWXRf-tb-21">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2211" y="684" />
            </Array>
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
